## 什么是虚拟dom
Dom操作是昂贵的，js运行效率高，用js模拟真实dom结构，将Dom对比操作放在js里面，提高效率，在js和真实dom中间加了一个缓存，虚拟dom和真实dom两者间存在映射关系。通过diff算法比较新旧节点对象做删除插入等变动，减少对真实dom的操作，优化性能方案之一。


## 核心API 
h函数：生成vnode节点
`h('<标签名>',{...属性...},[...子元素...])` 很多子元素
`h('<标签名>',{...属性...},'...')` 只有一个文本节点的子元素
patch函数：将vnode渲染到真实页面上
`patch(container, vnode)` 初次渲染的时候把vnode全部patch到空的容器里面
`patch(vnode, newVnode)` rerender，再次渲染的时候把新的vnode和旧的vnode进行对比，找到应该重新渲染的节点。


## 虚拟dom优缺点
优点：
1.保证性能下限，可以保证再不需要手动优化的情况下依然提供还不错的性能，优于直接操作dom
2.无需手动操作dom，只用写好view-model逻辑，框架会根据虚拟dom和数据双向绑定，更新视图，提高开发效率 
3.跨平台，虚拟dom本质上是js对象，可以方便的跨平台操作
缺点：
无法进行极致优化，无法针对性的进行极致优化，
多了一层虚拟dom计算，比innerHTML插入慢

## 虚拟dom怎么挂载到页面上
复用老的虚拟dom生成的真实dom或者调用createElement函数生成真实dom挂载到页面上

## vue怎么使用虚拟dom
遍历真实dom对象，实例化成对应的映射关系对象，并进行标记分类，生成模板，模板编译换成渲染函数，执行该函数，得到vnode。首次patch渲染到容器中，data属性变化最后通过patch新旧对比替换得到根节点

